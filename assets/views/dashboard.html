<div ng-controller="dashboardController" ng-cloak class="dashboard" md-no-ink="">
  <md-content layout-padding>

    <div flex-xs flex-gt-xs="100" layout="column">
      <!-- TODO: REMOVE AFTER DEBUG -->
<!--       <code style="display: block; padding: 8px;">{{selectedVideos | json}}</code>
      button : {{ userButtonState}} , filter: {{ userFilterState}}, list: {{model.selectedVideoList}}, master : {{master}}, test : {{test}} -->

      <!-- DASHBOARD HEADER -->
      <h2>
        <md-icon md-svg-icon="{{iconVideoPath}}" id="videoIcon"></md-icon>
        <span class="md-headline">{{ MESSAGE_MY_VIDEOS }}
          <span ng-show="videoList.length" class="video-count">{{ videoList.length }}</span>
          <span ng-hide="videoList.length" class="video-count">{{ MESSAGE_COUNT_ZERO }}</span>
        </span>
      </h2>
      
      <md-card>
        <!-- ACTION BUTTONS -->
        <md-card-actions layout="row" layout-align="start center">
          <div flex>
            <md-card-icon-actions>
              <md-checkbox class="select-all" ng-model="master" ng-change="isSelectAll()" aria-label="Select All"></md-checkbox>
              <md-button ng-click="toggleButton(buttonState)" ng-repeat="buttonState in buttonStates"> 
                {{ buttonState }}
              </md-button>
            </md-card-icon-actions>
          </div>

          <div flex="10">
            <md-input-container>
              <label>{{ MESSAGE_VIEWS.substring(0, MESSAGE_VIEWS.length - 1) }}</label>
              <md-select ng-model="userFilterState">
                <md-option ng-repeat="filterState in filterStates" value="{{ filterState }}">{{ filterState }}</md-option>
              </md-select>
            </md-input-container>
          </div>
        </md-card-actions>

        <md-divider></md-divider>

        <!-- VIDEO CONTENT -->
        <md-card-content>
          <md-list-item class="md-3-line video-item" ng-repeat="video in videoList" ng-show="videoList.length">
              <md-checkbox ng-model="video.selected" ng-change="isLabelChecked()"></md-checkbox>              
              <img ng-src="{{ video.thumbnail }}" alt="{{ video.title }}" />

              <div class="md-list-item-text" layout="column">
                <h3>{{ video.title }}</h3>
                <h4>
                  {{ video.createdAt | date:'medium'}} 
                  <span ng-if="video.privacy">
                    <md-icon md-svg-icon="{{ iconPrivacyPath }}" class="small"></md-icon>
                  </span>
                </h4>
                <p>
                  <span ng-if="video.tags">
                    <md-icon md-svg-icon="{{ iconTagPath }}" class="small"></md-icon>
                    {{ video.tags }}
                  </span> 
                </p>
              </div>

              <div class="md-secondary">
                <md-icon class="md-avatar-icon" md-svg-icon="{{ iconViewPath }}"></md-icon>
                {{ video.views }} {{ MESSAGE_VIEWS}}
              </div>
          </md-list-item>

          <md-list-item ng-hide="videoList.length" layout="row" layout-align="center center">
            {{ MESSAGE_ERROR_NO_VIDEO }}
          </md-list-item>
        </md-card-content>

      </md-card>
    </div>

  </md-content>
</div>